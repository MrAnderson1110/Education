Turbo Assembler	 Version 3.1	    01/01/22 20:03:16	    Page 1
lab7\CHANGE.ASM



      1
      2				     ; Вариант 3
      3				     ; Программа заменяет строчные буквы заглавными в	    +
      4				     символьной
      5				     ; строке и выводит на экран преобразованную строку   +
      6				     на экран
      7				     ; Входные параметры:
      8				     ; текстовая переменная MYTEXT
      9
     10	0000			     .MODEL SMALL
     11	0000			     .STACK 256
     12	0000			     .DATA
     13							     ; объявляем текстовую переменную
     14	0000  4F 75 72 20 4E 61	74+  MYTEXT DB 'Our NativeTown', 13, 10, '$'
     15	      69 76 65 54 6F 77	6E+
     16	      0D 0A 24
     17	      =000E		     LEN=($-MYTEXT)-3	     ; вычисляем длину текста
     18	0011			     .CODE
     19				     ;---------------------- процедура	коррекции кода символа	    +
     20				     ---------------------
     21	0000			     COR PROC NEAR
     22	0000  90			     NOP
     23	0001  80 E4 DF			     AND AH, 0DFh
     24	0004  88 27			     MOV [BX], AH
     25	0006  C3			     RET
     26	0007			     COR ENDP
     27				     ;-----------------------------основная						    +
     28				     программа------------------------------------
     29	0007			     Start:
     30	0007  B8 0000s			     MOV AX, @DATA
     31	000A  8E D8			     MOV DS, AX
     32	000C  33 C0			     XOR AX, AX
     33
     34	000E  BB 0000r			     LEA BX, MYTEXT
     35	0011  B9 000E			     MOV CX, LEN	     ;загрузить счетчик	циклов
     36				     ;---------------------------------начало тела					    +
     37				     цикла----------------------------------
     38	0014			     MT1:
     39	0014  8A 27			     MOV AH, [BX]
     40	0016  80 FC 61			     CMP AH, 61h
     41	0019  72 08			     JB	MT2
     42	001B  80 FC 7A			     CMP AH, 7Ah
     43	001E  77 03			     JA	MT2
     44	0020  E8 FFDD			     CALL COR
     45	0023			     MT2:
     46	0023  43			     INC BX
     47				     ;------------------------конец тела						    +
     48				     цикла--------------------------------------------
     49	0024  E2 EE			     LOOP MT1		     ; повторить цикл, если (CX) != 0
     50	0026  BA 0000r			     LEA DX, MYTEXT	     ; вывести переменную
     51	0029  B4 09			     MOV AH, 09h	     ; MYTEXT
     52	002B  CD 21			     INT 21h	     ; на экран
     53	002D  90			     NOP		     ; холостая	команда
     54	002E  B8 4C00			     MOV AX, 4C00h	     ; завершить
     55	0031  CD 21			     INT 21h	     ; программу
     56
     57				     END Start
